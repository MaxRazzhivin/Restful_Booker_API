{"uid":"9626c8a58d79adbf","name":"test_without_firstname_lastname","fullName":"tests.test_restful_booking.TestBookingsNegative#test_without_firstname_lastname","historyId":"d7e2f194477a5ce7523633ea0a06462f","time":{"start":1762786899648,"stop":1762786899724,"duration":76},"status":"skipped","statusMessage":"XFAIL Сервис падает с 500 при отсутствии обязательных полей\n\n_pytest.outcomes.XFailed: Сервис падает с 500 при отсутствии обязательных полей","statusTrace":"self = <tests.test_restful_booking.TestBookingsNegative object at 0x7fa7b3704750>\nauth_session = <requests.sessions.Session object at 0x7fa7b37db690>\nbooking_data = <function booking_data.<locals>._generate_data at 0x7fa7b4bf0b80>\n\n    def test_without_firstname_lastname(self, auth_session, booking_data):\n        with allure.step('Проверяем создание букинга без обязательных полей'):\n            negative_data = booking_data()\n            negative_data.pop('lastname', None)\n            negative_data.pop('firstname', None)\n            negative_create = auth_session.post(f'{BASE_URL}/booking', json=negative_data)\n    \n            if negative_create.status_code == 200:\n                pytest.xfail('Сервис не валидирует запрос с проверкой обязательных '\n                             'полей')\n            elif negative_create.status_code == 500:\n>               pytest.xfail('Сервис падает с 500 при отсутствии обязательных полей')\nE               _pytest.outcomes.XFailed: Сервис падает с 500 при отсутствии обязательных полей\n\ntests/test_restful_booking.py:91: XFailed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1762786898477,"stop":1762786898478,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"auth_session","time":{"start":1762786898478,"stop":1762786898836,"duration":358},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"booking_data","time":{"start":1762786899647,"stop":1762786899647,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"skipped","statusMessage":"XFAIL Сервис падает с 500 при отсутствии обязательных полей\n\n_pytest.outcomes.XFailed: Сервис падает с 500 при отсутствии обязательных полей","statusTrace":"self = <tests.test_restful_booking.TestBookingsNegative object at 0x7fa7b3704750>\nauth_session = <requests.sessions.Session object at 0x7fa7b37db690>\nbooking_data = <function booking_data.<locals>._generate_data at 0x7fa7b4bf0b80>\n\n    def test_without_firstname_lastname(self, auth_session, booking_data):\n        with allure.step('Проверяем создание букинга без обязательных полей'):\n            negative_data = booking_data()\n            negative_data.pop('lastname', None)\n            negative_data.pop('firstname', None)\n            negative_create = auth_session.post(f'{BASE_URL}/booking', json=negative_data)\n    \n            if negative_create.status_code == 200:\n                pytest.xfail('Сервис не валидирует запрос с проверкой обязательных '\n                             'полей')\n            elif negative_create.status_code == 500:\n>               pytest.xfail('Сервис падает с 500 при отсутствии обязательных полей')\nE               _pytest.outcomes.XFailed: Сервис падает с 500 при отсутствии обязательных полей\n\ntests/test_restful_booking.py:91: XFailed","steps":[{"name":"Проверяем создание букинга без обязательных полей","time":{"start":1762786899648,"stop":1762786899724,"duration":76},"status":"failed","statusMessage":"_pytest.outcomes.XFailed: Сервис падает с 500 при отсутствии обязательных полей\n","statusTrace":"  File \"/app/tests/test_restful_booking.py\", line 91, in test_without_firstname_lastname\n    pytest.xfail('Сервис падает с 500 при отсутствии обязательных полей')\n  File \"/usr/local/lib/python3.11/site-packages/_pytest/outcomes.py\", line 193, in __call__\n    raise XFailed(msg=reason)\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"suite","value":"Bookings Negative tests"},{"name":"parentSuite","value":"tests"},{"name":"subSuite","value":"TestBookingsNegative"},{"name":"host","value":"8a9935ed7285"},{"name":"thread","value":"1-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_restful_booking"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"tags":[]},"source":"9626c8a58d79adbf.json","parameterValues":[]}